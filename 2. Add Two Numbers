/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     public int val;
 *     public ListNode next;
 *     public ListNode(int val=0, ListNode next=null) {
 *         this.val = val;
 *         this.next = next;
 *     }
 * }
 */
public class Solution {
    public ListNode AddTwoNumbers(ListNode l1, ListNode l2) {
                    ListNode headers = new ListNode();
            ListNode res = headers;
            int carry=0,sum,length=0,digit1,digit2;

            while (l1 != null || l2 != null || carry == 1)
            {
                digit1 = (l1 != null)? l1.val:0;
                digit2 = (l2 != null)? l2.val:0;

                sum = digit1 + digit2 + carry;
                carry = (sum >= 10)? 1:0;
                sum = sum % 10;

                if (length == 0)
                {
                    res.val = sum;
                    length++;
                }
                else
                {
                    res.next = new ListNode(sum);
                    res = res.next;
                    length++;
                }
                l1 =(l1 != null)? l1.next:l1;
                l2 =(l2 != null)? l2.next:l2;
            }

            for(ListNode i = headers; i != null; i=i.next)
            {
                Console.WriteLine(i.val+"  ");
            }

            return headers;

    }
}
